(function(e){function t(t){t=t.split(")");var n=e.trim,r=t.length-1,s,o,u,a=1,f=0,l=0,c=1,h,p,d,v,m,g,y=0,b=0;while(r--){s=t[r].split("("),o=n(s[0]),u=s[1],h=p=d=v=0;switch(o){case"translateX":y+=parseInt(u,10);continue;case"translateY":b+=parseInt(u,10);continue;case"translate":u=u.split(","),y+=parseInt(u[0],10),b+=parseInt(u[1]||0,10);continue;case"rotate":u=i(u),h=Math.cos(u),p=Math.sin(u),d=-Math.sin(u),v=Math.cos(u);break;case"scaleX":h=u,v=1;break;case"scaleY":h=1,v=u;break;case"scale":u=u.split(","),h=u[0],v=u.length>1?u[1]:u[0];break;case"skewX":h=v=1,d=Math.tan(i(u));break;case"skewY":h=v=1,p=Math.tan(i(u));break;case"skew":h=v=1,u=u.split(","),d=Math.tan(i(u[0])),p=Math.tan(i(u[1]||0));break;case"matrix":u=u.split(","),h=+u[0],p=+u[1],d=+u[2],v=+u[3],y+=parseInt(u[4],10),b+=parseInt(u[5],10)}m=a*h+f*d,f=a*p+f*v,g=l*h+c*d,c=l*p+c*v,a=m,l=g}return[a,f,l,c,y,b]}function n(e){var t,n,r,i=e[0],s=e[1],o=e[2],u=e[3];return i*u-s*o?(t=Math.sqrt(i*i+s*s),i/=t,s/=t,r=i*o+s*u,o-=i*r,u-=s*r,n=Math.sqrt(o*o+u*u),o/=n,u/=n,r/=n,i*u<s*o&&(i=-i,s=-s,r=-r,t=-t)):rotate=t=n=r=0,{translate:[+e[4],+e[5]],rotate:Math.atan2(s,i),scale:[t,n],skew:[r,0]}}function r(t){t=t.split(")");var n=[0,0],r=0,s=[1,1],o=[0,0],u=t.length-1,a=e.trim,f,l,c;while(u--)f=t[u].split("("),l=a(f[0]),c=f[1],l=="translateX"?n[0]+=parseInt(c,10):l=="translateY"?n[1]+=parseInt(c,10):l=="translate"?(c=c.split(","),n[0]+=parseInt(c[0],10),n[1]+=parseInt(c[1]||0,10)):l=="rotate"?r+=i(c):l=="scaleX"?s[0]*=c:l=="scaleY"?s[1]*=c:l=="scale"?(c=c.split(","),s[0]*=c[0],s[1]*=c.length>1?c[1]:c[0]):l=="skewX"?o[0]+=i(c):l=="skewY"?o[1]+=i(c):l=="skew"&&(c=c.split(","),o[0]+=i(c[0]),o[1]+=i(c[1]||"0"));return{translate:n,rotate:r,scale:s,skew:o}}function i(e){return~e.indexOf("deg")?parseInt(e,10)*(Math.PI*2/360):~e.indexOf("grad")?parseInt(e,10)*(Math.PI/200):parseFloat(e)}function s(e){return e=/\(([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(e),[e[1],e[2],e[3],e[4],e[5],e[6]]}var o=document.createElement("div"),u=o.style,a="transform",f="Transform",l=["O"+f,"ms"+f,"Webkit"+f,"Moz"+f,a],c=l.length,h,p,d,v,m=/Matrix([^)]*)/;while(c--)if(l[c]in u){e.support[a]=h=l[c];continue}h||(e.support.matrixFilter=p=u.filter===""),o=u=null,e.cssNumber[a]=!0,h&&h!=a?(e.cssProps[a]=h,h=="Moz"+f?d={get:function(t,n){return n?e.css(t,h).split("px").join(""):t.style[h]},set:function(e,t){e.style[h]=/matrix[^)p]*\)/.test(t)?t.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,"matrix$1$2px,$3px"):t}}:/^1\.[0-5](?:\.|$)/.test(e.fn.jquery)&&(d={get:function(t,n){return n?e.css(t,h.replace(/^ms/,"Ms")):t.style[h]}})):p&&(d={get:function(e,t){var n=t&&e.currentStyle?e.currentStyle:e.style,r;return n&&m.test(n.filter)?(r=RegExp.$1.split(","),r=[r[0].split("=")[1],r[2].split("=")[1],r[1].split("=")[1],r[3].split("=")[1]]):r=[1,0,0,1],r[4]=n?n.left:0,r[5]=n?n.top:0,"matrix("+r+")"},set:function(n,r,i){var s=n.style,o,u,a;i||(s.zoom=1),r=t(r);if(!i||i.M){u=["Matrix(M11="+r[0],"M12="+r[2],"M21="+r[1],"M22="+r[3],"SizingMethod='auto expand'"].join(),a=(o=n.currentStyle)&&o.filter||s.filter||"",s.filter=m.test(a)?a.replace(m,u):a+" progid:DXImageTransform.Microsoft."+u+")";if(centerOrigin=e.transform.centerOrigin)s[centerOrigin=="margin"?"marginLeft":"left"]=-(n.offsetWidth/2)+n.clientWidth/2+"px",s[centerOrigin=="margin"?"marginTop":"top"]=-(n.offsetHeight/2)+n.clientHeight/2+"px"}if(!i||i.T)s.left=r[4]+"px",s.top=r[5]+"px"}}),d&&(e.cssHooks[a]=d),v=d&&d.get||e.css,e.fx.step.transform=function(e){var i=e.elem,o=e.start,u=e.end,a,f=e.pos,l,c,m,g,y,b=!1,w=!1,E;c=m=g=y="";if(!o||typeof o=="string"){o||(o=v(i,h)),p&&(i.style.zoom=1),a=u.split(o),a.length==2&&(u=a.join(""),e.origin=o,o="none"),e.start=o=o=="none"?{translate:[0,0],rotate:0,scale:[1,1],skew:[0,0]}:n(s(o)),e.end=u=~u.indexOf("matrix")?n(t(u)):r(u);for(E in o)(E=="rotate"?o[E]==u[E]:o[E][0]==u[E][0]&&o[E][1]==u[E][1])&&delete o[E]}o.translate&&(c=" translate("+(o.translate[0]+(u.translate[0]-o.translate[0])*f+.5|0)+"px,"+(o.translate[1]+(u.translate[1]-o.translate[1])*f+.5|0)+"px"+")",b=!0),o.rotate!=undefined&&(m=" rotate("+(o.rotate+(u.rotate-o.rotate)*f)+"rad)",w=!0),o.scale&&(g=" scale("+(o.scale[0]+(u.scale[0]-o.scale[0])*f)+","+(o.scale[1]+(u.scale[1]-o.scale[1])*f)+")",w=!0),o.skew&&(y=" skew("+(o.skew[0]+(u.skew[0]-o.skew[0])*f)+"rad,"+(o.skew[1]+(u.skew[1]-o.skew[1])*f)+"rad"+")",w=!0),l=e.origin?e.origin+c+y+g+m:c+m+g+y,d&&d.set?d.set(i,l,{M:w,T:b}):i.style[h]=l},e.transform={centerOrigin:"margin"}})(jQuery);